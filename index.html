<!doctype html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta charset="utf-8">
        <title>AppNexus Native Gallery</title>
        <meta name="viewport" content="minimum-scale=1.0, width=device-width, maximum-scale=1, user-scalable=no"/>
        <!-- <link href="https://vjs.zencdn.net/5.19/video-js.min.css" rel="stylesheet">-->
        <style>
            * {
                margin: 0;
                padding: 0;
                border: 0;
            }

            body {
                font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
                font-size: 16px;
                max-width: 960px;
                margin: 0 auto;
            }

            footer {
                margin: 5px 0;
            }

            .page-header {
                padding: 55px;
            }

            .page-header h1 {
                text-align: center
            }

            .inline-monospace {
                font-family: monospace;
            }

            .intro {
                border-bottom: 1px solid #999;
                padding-bottom: 34px;
            }

            .intro p {
                margin: 13px 0;
            }

            .intro h2 {
                margin: 21px 0;
            }

            .intro .code-snippet {
                position: relative;
                height: 200px;
            }

            .native-gallery-item {
                margin: 34px 0;
                padding-bottom: 21px;
                border-bottom: 1px solid #999;
                display: flex;
                flex-flow: row wrap;
            }

            .native-gallery-item:last-of-type {
                border-bottom: 0;
            }

            .native-gallery-item h2 {
                margin-bottom: 21px;
                width: 100%;
                flex: 1 100%;
            }

            .native-gallery-rendering-sample {
                flex: 1;
                margin-right: 8px;
                padding: 5px;
            }

            .native-gallery-code-section {
                flex: 1;
                display: flex;
            }

            .native-gallery-code-snippet {
                position: relative;
                flex: 1;
            }

            .native-gallery-code-block {
                resize: none;
                width: 100%;
                font-family: monospace;
                font-size: 0.8em;
                outline: none;
                padding: 5px;
                background: #f9f9f9;
                top: 0;
                bottom: 0;
                right: 0;
                left: 0;
                position: absolute;
            }

            .native-gallery-copy-btn {
                position: absolute;
                bottom: 2px;
                left: 2px;
                font-size: 16px;
                padding: 3px;
                border: 1px solid #000;
                background-color: #eee;
                cursor: pointer;
            }

            .native-gallery-copy-btn:hover {
                background-color: #fff;
            }

        </style>
        <!--<script src="https://vjs.zencdn.net/5.19/video.min.js"></script>-->
    </head>
    <body>
        <header class='page-header'>
            <h1>Native Ad Gallery</h1>
        </header>
        <article class='intro'>
            <p>
                This is a gallery of sample native creative renderings. These samples are meant to demonstrate the flexibility of the native format and the kinds of rendering possible with an AppNexus native response payload. To the right of each sample you will find a code snippet that you can copy and paste into your content - this snippet will serve a live sample ad.
            </p>
            <section>
                <h2>How to use the code snippets</h2>
                <p>
                    To use the code snippets in this gallery you will need to add the following script into the <span class='inline-monospace'>&lt;head&gt;</span> element of your page. This will ensure that the page makes the ad call to our sample native creative.
                </p>
                <section class='code-snippet'>
                    <textarea class='native-gallery-code-block' readonly>&lt;script type&#x3D;&quot;text/javascript&quot;&gt;
//create empty apntag object if it doesn&#x27;t exist
var apntag &#x3D; apntag || {};
//create a queue on the apntag object
apntag.anq &#x3D; apntag.anq || [];
//load ast.js - async
(function() {
    var d &#x3D; document, scr &#x3D; d.createElement(&#x27;script&#x27;), pro &#x3D; d.location.protocol, tar &#x3D; d.getElementsByTagName(&quot;head&quot;)[0];
    scr.type &#x3D; &#x27;text/javascript&#x27;; scr.async &#x3D; true;
    scr.src &#x3D; ((pro &#x3D;&#x3D;&#x3D; &#x27;https:&#x27;) ? &#x27;https&#x27; : &#x27;http&#x27;) + &#x27;://acdn.adnxs.com/ast/ast.js&#x27;;
    if(!apntag.l){apntag.l&#x3D;true; tar.insertBefore(scr, tar.firstChild);}
})();
//push commands to loading queue, to allow for async loading
apntag.anq.push(function() {
    //set global page options
    apntag.setPageOpts({
        member: 882,
        disablePsa: true,
        targetingParams: {
           
        }
    });
    //define ad tags
    apntag.defineTag({
        tagId: 12119864,
        sizes: [[1,1]],
        targetId: &#x27;adunit&#x27;,
        native: {
            title: {required: true, max_length: 140},
            body: {required: true, max_length: 300},
            image: {required: false},
            sponsoredBy: {required: true, max_length: 50},
            icon: {required:false, sizes: [{width: 300, height: 300}]},
            cta: {required:false}
        }
    });
    //start loading tags
    apntag.loadTags();
});
&lt;/script&gt;</textarea>
                    <button class='native-gallery-copy-btn' type='button' title='Click to copy to your clipboard'>
                        Copy
                    </button>
                </section>
                <p>
                    After you have pasted this script into <span class='inline-monospace'>&lt;head&gt;</span>, paste the desired code snippet onto your page where you want it to appear - this script is self-contained and will render in-stream.
                </p>
            </section>
        </article>
        <article class='native-gallery-item'>
            <h2>Main image, headline, sponsor</h2>
            <section class='native-gallery-rendering-sample'>
                <div class="an-native-ad img-left" style="display:block;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;">
    <a href="https://frinkiac.com/episode/S07E11/123339" target="_blank">
        <img class="an-native-img" src="./assets/placeholder.jpg" width="200" style="float:left;margin-right:5px;"/>
    </a>
    <div class="an-native-rhs">
        <header class="an-native-headline" style="font-weight:bold;font-size:1.3em;">Welcome Thrillho!</header>
        <div class="an-native-sponsor-wrapper" style="font-size:0.8em;">
            <span class="an-native-sponsor-label" style="font-weight:bold;"> Sponsored by:</span> <span class="an-native-sponsor">Bonestorm</span>
        </div>
    </div>
</div>
            </section>
            <section class='native-gallery-code-section'>
                <div class='native-gallery-code-snippet'>
                    <textarea class='native-gallery-code-block' readonly><script type="text/javascript">
(function() {
document.write('<div id="an-demo-ad"></div>');
var stateCheck = setInterval(function() {
    if(document.readyState === 'complete') {
        clearInterval(stateCheck);
        apntag.anq.push(function() {
            apntag.showTag('adunit');
            apntag.onEvent('adAvailable', function(adObj) {
                var $ad = document.getElementById('an-demo-ad');
                var nObj = adObj.native;
                // not all native fields will be specified on the request,
                // so make sure you trap any null values properly
                var clickUrl = nObj.clickUrl;
                var title = nObj.title;
                var body = nObj.body;
                var sponsor = nObj.sponsoredBy;
                var imgSrc = nObj.image && nObj.image.url;
                var cta = nObj.cta;
                var iconSrc = nObj.icon && nObj.icon.url;

                $ad.innerHTML = '<div class="an-native-ad img-left" style="display:block;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;"><a href="&#x27;+clickUrl+&#x27;" target="_blank"><img class="an-native-img" src="&#x27;+imgSrc+&#x27;" width="200" style="float:left;margin-right:5px;"/></a><div class="an-native-rhs"><header class="an-native-headline" style="font-weight:bold;font-size:1.3em;">&#x27;+title+&#x27;</header><div class="an-native-sponsor-wrapper" style="font-size:0.8em;"><span class="an-native-sponsor-label" style="font-weight:bold;"> Sponsored by:</span> <span class="an-native-sponsor">&#x27;+sponsor+&#x27;</span></div></div></div>';

                // collect and fire off the trackers
                var impTrackers = nObj.impressionTrackers || [];
                var jsTrackers = parseJsTrackers(nObj.javascriptTrackers) || [];
                var clickTrackers = nObj.clickTrackers;

                // fire imp trackers
                impTrackers.forEach(fireRequest);

                // fire js trackers
                jsTrackers
                    .filter(function(url) {
                        // this is where you would filter out tracker that you don't want to fire
                        // for example, this will only include moat trackers:
                        // return url.indexOf('//z.moatads.com') > -1;
                        return true;
                    })
                    .forEach(function(url) {
                        var d = document, scr = d.createElement('script'), pro = d.location.protocol, tar = d.getElementsByTagName("head")[0];
                        scr.type = 'text/javascript'; scr.async = true;
                        scr.src = url;
                        tar.insertBefore(scr, tar.firstChild);
                    });

                // set up handlers for click trackers -
                // this will only work if you wrap clickable elements in <a> tags
                Array.prototype.slice.apply($ad.getElementsByTagName('a')).forEach(function(tag) {
                    tag.addEventListener('click', function() {
                        clickTrackers.forEach(fireRequest);
                    });
                });
            });
        });
    }
}, 10);
var fireRequest = function(url) {
    var request = new XMLHttpRequest();
    request.open('GET', url);
    request.send();
};
var parseJsTrackers = function(str) {
    var urls = [], regex = /(?:<script.+?)(?:src=")(.+?)".*?><\/script>/g, result;
    while((result = regex.exec(str)) !== null) {
        urls.push(result[1]);
    }
    return urls;
}
})();
</script></textarea>
                    <button class='native-gallery-copy-btn' type='button' title='Click to copy to your clipboard'>
                        Copy
                    </button>
                </div>
            </section>
        </article>
        <article class='native-gallery-item'>
            <h2>Main image, headline, logo, call to action, sponsor</h2>
            <section class='native-gallery-rendering-sample'>
                <div class="an-native-ad img-overlay" style="display:block;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;position:relative;">
    <div class="an-native-overlay-content" style="position:absolute;color:#fff;width:320px;top:0;bottom:0;">
        <header class="an-native-headline" style="font-weight:bold;font-size:1.3em;position:absolute;text-align:center;top:13px;left:0;right:0;">Welcome Thrillho!</header>
        <div class="an-native-sponsor-wrapper" style="font-size:0.8em;position:absolute;bottom:3px;left:3px;">
            <span class="an-native-sponsor-label" style="font-weight:bold;">Sponsored by:</span> <span class="an-native-sponsor">Bonestorm</span>
        </div>
        <a href="https://frinkiac.com/episode/S07E11/123339" class="an-native-cta" target="_blank" title="...or go to hell!" style="text-decoration:none;padding:3px;color:#000;background:#fff;border:1px solid #000;font-size:1.2em;position:absolute;bottom:25%;left:60px;right:60px;border:0;text-align:center;">
            Buy me Bonestorm!
        </a>
        <img class="an-native-logo" src="./assets/logo.png" width="50" style="position:absolute;bottom:3px;right:3px;" />
    </div>
    <img class="an-native-img" src="./assets/placeholder.jpg" width="320" />
</div>
<style>
    .an-native-overlay-content .an-native-cta {
        opacity: 0.7;
    }
    .an-native-overlay-content .an-native-cta:hover {
        opacity: 1.0;
    }
</style>
            </section>
            <section class='native-gallery-code-section'>
                <div class='native-gallery-code-snippet'>
                    <textarea class='native-gallery-code-block' readonly><script type="text/javascript">
(function() {
document.write('<div id="an-demo-ad"></div>');
var stateCheck = setInterval(function() {
    if(document.readyState === 'complete') {
        clearInterval(stateCheck);
        apntag.anq.push(function() {
            apntag.showTag('adunit');
            apntag.onEvent('adAvailable', function(adObj) {
                var $ad = document.getElementById('an-demo-ad');
                var nObj = adObj.native;
                // not all native fields will be specified on the request,
                // so make sure you trap any null values properly
                var clickUrl = nObj.clickUrl;
                var title = nObj.title;
                var body = nObj.body;
                var sponsor = nObj.sponsoredBy;
                var imgSrc = nObj.image && nObj.image.url;
                var cta = nObj.cta;
                var iconSrc = nObj.icon && nObj.icon.url;

                $ad.innerHTML = '<div class="an-native-ad img-overlay" style="display:block;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;position:relative;"><div class="an-native-overlay-content" style="position:absolute;color:#fff;width:320px;top:0;bottom:0;"><header class="an-native-headline" style="font-weight:bold;font-size:1.3em;position:absolute;text-align:center;top:13px;left:0;right:0;">&#x27;+title+&#x27;</header><div class="an-native-sponsor-wrapper" style="font-size:0.8em;position:absolute;bottom:3px;left:3px;"><span class="an-native-sponsor-label" style="font-weight:bold;">Sponsored by:</span> <span class="an-native-sponsor">&#x27;+sponsor+&#x27;</span></div><a href="&#x27;+clickUrl+&#x27;" class="an-native-cta" target="_blank" title="...or go to hell!" style="text-decoration:none;padding:3px;color:#000;background:#fff;border:1px solid #000;font-size:1.2em;position:absolute;bottom:25%;left:60px;right:60px;border:0;text-align:center;">&#x27;+cta+&#x27;</a><img class="an-native-logo" src="&#x27;+iconSrc+&#x27;" width="50" style="position:absolute;bottom:3px;right:3px;" /></div><img class="an-native-img" src="&#x27;+imgSrc+&#x27;" width="320" /></div><style>.an-native-overlay-content .an-native-cta {opacity: 0.7;}.an-native-overlay-content .an-native-cta:hover {opacity: 1.0;}</style>';

                // collect and fire off the trackers
                var impTrackers = nObj.impressionTrackers || [];
                var jsTrackers = parseJsTrackers(nObj.javascriptTrackers) || [];
                var clickTrackers = nObj.clickTrackers;

                // fire imp trackers
                impTrackers.forEach(fireRequest);

                // fire js trackers
                jsTrackers
                    .filter(function(url) {
                        // this is where you would filter out tracker that you don't want to fire
                        // for example, this will only include moat trackers:
                        // return url.indexOf('//z.moatads.com') > -1;
                        return true;
                    })
                    .forEach(function(url) {
                        var d = document, scr = d.createElement('script'), pro = d.location.protocol, tar = d.getElementsByTagName("head")[0];
                        scr.type = 'text/javascript'; scr.async = true;
                        scr.src = url;
                        tar.insertBefore(scr, tar.firstChild);
                    });

                // set up handlers for click trackers -
                // this will only work if you wrap clickable elements in <a> tags
                Array.prototype.slice.apply($ad.getElementsByTagName('a')).forEach(function(tag) {
                    tag.addEventListener('click', function() {
                        clickTrackers.forEach(fireRequest);
                    });
                });
            });
        });
    }
}, 10);
var fireRequest = function(url) {
    var request = new XMLHttpRequest();
    request.open('GET', url);
    request.send();
};
var parseJsTrackers = function(str) {
    var urls = [], regex = /(?:<script.+?)(?:src=")(.+?)".*?><\/script>/g, result;
    while((result = regex.exec(str)) !== null) {
        urls.push(result[1]);
    }
    return urls;
}
})();
</script></textarea>
                    <button class='native-gallery-copy-btn' type='button' title='Click to copy to your clipboard'>
                        Copy
                    </button>
                </div>
            </section>
        </article>
        <article class='native-gallery-item'>
            <h2>Main image, headline, body, sponsor</h2>
            <section class='native-gallery-rendering-sample'>
                <div class="an-native-ad stacked" style="display:block;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;max-width:200px;">
    <a href="https://frinkiac.com/episode/S07E11/123339" target="_blank">
        <img class="an-native-img" src="./assets/placeholder.jpg" width="200" />
    </a>
    <header class="an-native-headline" style="font-weight:bold;font-size:1.3em;">Welcome Thrillho!</header>
    <div class="an-native-body" style="margin:5px 0;">
        This is great! And all I&#x27;ve done is enter my name -- THRILLHOUSE. Say, cool dude, can I play too? Uh, it&#x27;s only a one-player game. How come it says &#x27;second player score&#x27;?
    </div>
    <div class="an-native-sponsor-wrapper" style="font-size:0.8em;">
        <span class="an-native-sponsor-label" style="font-weight:bold;">Sponsored by:</span> <span class="an-native-sponsor">Bonestorm</span>
    </div>
</div>
            </section>
            <section class='native-gallery-code-section'>
                <div class='native-gallery-code-snippet'>
                    <textarea class='native-gallery-code-block' readonly><script type="text/javascript">
(function() {
document.write('<div id="an-demo-ad"></div>');
var stateCheck = setInterval(function() {
    if(document.readyState === 'complete') {
        clearInterval(stateCheck);
        apntag.anq.push(function() {
            apntag.showTag('adunit');
            apntag.onEvent('adAvailable', function(adObj) {
                var $ad = document.getElementById('an-demo-ad');
                var nObj = adObj.native;
                // not all native fields will be specified on the request,
                // so make sure you trap any null values properly
                var clickUrl = nObj.clickUrl;
                var title = nObj.title;
                var body = nObj.body;
                var sponsor = nObj.sponsoredBy;
                var imgSrc = nObj.image && nObj.image.url;
                var cta = nObj.cta;
                var iconSrc = nObj.icon && nObj.icon.url;

                $ad.innerHTML = '<div class="an-native-ad stacked" style="display:block;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;max-width:200px;"><a href="&#x27;+clickUrl+&#x27;" target="_blank"><img class="an-native-img" src="&#x27;+imgSrc+&#x27;" width="200" /></a><header class="an-native-headline" style="font-weight:bold;font-size:1.3em;">&#x27;+title+&#x27;</header><div class="an-native-body" style="margin:5px 0;">&#x27;+body+&#x27;</div><div class="an-native-sponsor-wrapper" style="font-size:0.8em;"><span class="an-native-sponsor-label" style="font-weight:bold;">Sponsored by:</span> <span class="an-native-sponsor">&#x27;+sponsor+&#x27;</span></div></div>';

                // collect and fire off the trackers
                var impTrackers = nObj.impressionTrackers || [];
                var jsTrackers = parseJsTrackers(nObj.javascriptTrackers) || [];
                var clickTrackers = nObj.clickTrackers;

                // fire imp trackers
                impTrackers.forEach(fireRequest);

                // fire js trackers
                jsTrackers
                    .filter(function(url) {
                        // this is where you would filter out tracker that you don't want to fire
                        // for example, this will only include moat trackers:
                        // return url.indexOf('//z.moatads.com') > -1;
                        return true;
                    })
                    .forEach(function(url) {
                        var d = document, scr = d.createElement('script'), pro = d.location.protocol, tar = d.getElementsByTagName("head")[0];
                        scr.type = 'text/javascript'; scr.async = true;
                        scr.src = url;
                        tar.insertBefore(scr, tar.firstChild);
                    });

                // set up handlers for click trackers -
                // this will only work if you wrap clickable elements in <a> tags
                Array.prototype.slice.apply($ad.getElementsByTagName('a')).forEach(function(tag) {
                    tag.addEventListener('click', function() {
                        clickTrackers.forEach(fireRequest);
                    });
                });
            });
        });
    }
}, 10);
var fireRequest = function(url) {
    var request = new XMLHttpRequest();
    request.open('GET', url);
    request.send();
};
var parseJsTrackers = function(str) {
    var urls = [], regex = /(?:<script.+?)(?:src=")(.+?)".*?><\/script>/g, result;
    while((result = regex.exec(str)) !== null) {
        urls.push(result[1]);
    }
    return urls;
}
})();
</script></textarea>
                    <button class='native-gallery-copy-btn' type='button' title='Click to copy to your clipboard'>
                        Copy
                    </button>
                </div>
            </section>
        </article>
        <article class='native-gallery-item'>
            <h2>Headline, body, sponsor</h2>
            <section class='native-gallery-rendering-sample'>
                <div class="an-native-ad stacked stacked-text" style="display:block;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;max-width:200px;">
    <header class="an-native-headline" style="font-weight:bold;font-size:1.3em;">Welcome Thrillho!</header>
    <div class="an-native-body" style="margin:5px 0;">
        This is great! And all I&#x27;ve done is enter my name -- THRILLHOUSE. Say, cool dude, can I play too? Uh, it&#x27;s only a one-player game. How come it says &#x27;second player score&#x27;?
    </div>
    <div class="an-native-sponsor-wrapper" style="font-size:0.8em;">
        <span class="an-native-sponsor-label" style="font-weight:bold;">Sponsored by:</span> <span class="an-native-sponsor">Bonestorm</span>
    </div>
</div>
            </section>
            <section class='native-gallery-code-section'>
                <div class='native-gallery-code-snippet'>
                    <textarea class='native-gallery-code-block' readonly><script type="text/javascript">
(function() {
document.write('<div id="an-demo-ad"></div>');
var stateCheck = setInterval(function() {
    if(document.readyState === 'complete') {
        clearInterval(stateCheck);
        apntag.anq.push(function() {
            apntag.showTag('adunit');
            apntag.onEvent('adAvailable', function(adObj) {
                var $ad = document.getElementById('an-demo-ad');
                var nObj = adObj.native;
                // not all native fields will be specified on the request,
                // so make sure you trap any null values properly
                var clickUrl = nObj.clickUrl;
                var title = nObj.title;
                var body = nObj.body;
                var sponsor = nObj.sponsoredBy;
                var imgSrc = nObj.image && nObj.image.url;
                var cta = nObj.cta;
                var iconSrc = nObj.icon && nObj.icon.url;

                $ad.innerHTML = '<div class="an-native-ad stacked stacked-text" style="display:block;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;max-width:200px;"><header class="an-native-headline" style="font-weight:bold;font-size:1.3em;">&#x27;+title+&#x27;</header><div class="an-native-body" style="margin:5px 0;">&#x27;+body+&#x27;</div><div class="an-native-sponsor-wrapper" style="font-size:0.8em;"><span class="an-native-sponsor-label" style="font-weight:bold;">Sponsored by:</span> <span class="an-native-sponsor">&#x27;+sponsor+&#x27;</span></div></div>';

                // collect and fire off the trackers
                var impTrackers = nObj.impressionTrackers || [];
                var jsTrackers = parseJsTrackers(nObj.javascriptTrackers) || [];
                var clickTrackers = nObj.clickTrackers;

                // fire imp trackers
                impTrackers.forEach(fireRequest);

                // fire js trackers
                jsTrackers
                    .filter(function(url) {
                        // this is where you would filter out tracker that you don't want to fire
                        // for example, this will only include moat trackers:
                        // return url.indexOf('//z.moatads.com') > -1;
                        return true;
                    })
                    .forEach(function(url) {
                        var d = document, scr = d.createElement('script'), pro = d.location.protocol, tar = d.getElementsByTagName("head")[0];
                        scr.type = 'text/javascript'; scr.async = true;
                        scr.src = url;
                        tar.insertBefore(scr, tar.firstChild);
                    });

                // set up handlers for click trackers -
                // this will only work if you wrap clickable elements in <a> tags
                Array.prototype.slice.apply($ad.getElementsByTagName('a')).forEach(function(tag) {
                    tag.addEventListener('click', function() {
                        clickTrackers.forEach(fireRequest);
                    });
                });
            });
        });
    }
}, 10);
var fireRequest = function(url) {
    var request = new XMLHttpRequest();
    request.open('GET', url);
    request.send();
};
var parseJsTrackers = function(str) {
    var urls = [], regex = /(?:<script.+?)(?:src=")(.+?)".*?><\/script>/g, result;
    while((result = regex.exec(str)) !== null) {
        urls.push(result[1]);
    }
    return urls;
}
})();
</script></textarea>
                    <button class='native-gallery-copy-btn' type='button' title='Click to copy to your clipboard'>
                        Copy
                    </button>
                </div>
            </section>
        </article>
        <footer>
            &copy; 2017 AppNexus Inc. All Rights Reserved
        </footer>
        <script>
            function locateTextArea(button) {
                return button.previousElementSibling;
            }

            function copyContentToClipboard(textarea) {
                textarea.select();

                try {
                    var success = document.execCommand('copy');
                    console.log('Copy to clipboard', success ? 'successful' : 'unsuccessful');
                } catch(error) {
                    console.error('There was an issue copying to clipboard', error);
                }

                window.getSelection().removeAllRanges();
            }

            document.addEventListener('DOMContentLoaded', function() {
                document.querySelectorAll('.native-gallery-copy-btn').forEach(function(button) {
                    button.addEventListener('click', function(e) {
                        copyContentToClipboard(locateTextArea(e.target));
                    });
                });
            });
        </script>
    </body>
</html>